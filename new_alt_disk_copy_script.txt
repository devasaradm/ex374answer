#!/usr/bin/ksh
{
echo `lspv |grep rootvg`
ALTROOTVGDSK=$(lspv | grep altinst_rootvg | cut -f 1 -d " ")
if [[ -n $ALTROOTVGDSK ]]; then
	lsdev -t MPowerStore -l $ALTROOTVGDSK
	if [[ $? -eq 0 ]]; then
		#ROOTVGIS=MPowerStore
		alt_rootvg_op -X altinst_rootvg
		alt_disk_copy -B -d $ALTROOTVGDSK
		bootlist -m normal $(lspv |grep -w rootvg | awk {' print $1 '})
	fi
 
	lsdev -t power -l $ALTROOTVGDSK
	if [[ $? -eq 0 ]]; then
		#ROOTVGIS=power
		pprootdev fix
		alt_rootvg_op -X altinst_rootvg
		alt_disk_copy -B -d $ALTROOTVGDSK
		pprootdev fixback
		powermt display dev=$(lspv |grep -w rootvg | awk {' print $1 '}) | grep fscsi | awk {' print $3 }'  | xargs bootlist -m normal 
	fi
	echo "complete at `date`"
else
	exit 2;
fi
echo "bootlist"
bootlist -om normal
} | tee -a /tmp/altrootvg.txt